%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FONTS

\usepackage{fontspec} % needed to set main font
\setmainfont{STIX Two Text}

\usepackage{unicode-math} % needed to set math font -- also replaces amssymb
\setmathfont{STIX Two Math}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PAGE LAYOUT

\usepackage{parskip} % skip line after each paragraph, and don't indent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LISTS

\usepackage{enumitem} % needed to define new list environments

\newlist{dfnitems}{itemize}{2} % condensed list for use inside tcolorboxes
\setlist[dfnitems]{
	label=\textbullet,
	parsep=0.125\baselineskip
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% BOXES

\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\tcbuselibrary{skins}

\newtcolorbox{tcdfnbox}[1]{
	enhanced,
	breakable,
	coltext=black,
	coltitle=white,
	colframe=black,
	colbacktitle=black,
	left=2.5mm,
	right=2.5mm,
	grow to left by=4mm,
	grow to right by=4mm,
	before upper={
		\setlength{\parskip}{0.375\baselineskip}
		\setlength{\abovedisplayskip}{0.375\baselineskip}
		\setlength{\belowdisplayskip}{0.375\baselineskip}
		\setlength{\abovedisplayshortskip}{0.125\baselineskip}
		\setlength{\belowdisplayshortskip}{0.375\baselineskip}
	},
	title={\textbf{Definition: {#1}}},
	attach boxed title to top text left={yshift=-2mm},
	boxed title style={size=small}
}

\newtcolorbox{tcthmbox}[1]{
	enhanced,
	breakable,
	coltext=black,
	coltitle=white,
	colframe=black,
	colbacktitle=black,
	left=2.5mm,
	right=2.5mm,
	grow to left by=4mm,
	grow to right by=4mm,
	before upper={
		\setlength{\parskip}{0.375\baselineskip}
		\setlength{\abovedisplayskip}{0.375\baselineskip}
		\setlength{\belowdisplayskip}{0.375\baselineskip}
		\setlength{\abovedisplayshortskip}{0.125\baselineskip}
		\setlength{\belowdisplayshortskip}{0.375\baselineskip}
	},
	before lower={
		\setlength{\parskip}{0.375\baselineskip}
		\setlength{\abovedisplayskip}{0.375\baselineskip}
		\setlength{\belowdisplayskip}{0.375\baselineskip}
		\setlength{\abovedisplayshortskip}{0.125\baselineskip}
		\setlength{\belowdisplayshortskip}{0.375\baselineskip}
	},
	title={\textbf{{#1}}},
	attach boxed title to top text left={yshift=-2mm},
	boxed title style={size=small}
}

\newenvironment{dfnbox}[1]{
	\begin{tcdfnbox}{#1}
}{
	\end{tcdfnbox}
}

\newenvironment{thmbox}[1]{
	\begin{tcthmbox}{#1}
}{
	\end{tcthmbox}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TEXT MACROS

\newcommand{\dfntxt}[1]{{\textbf{\textit{#1}}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% MATH MACROS

\newcommand{\N}{{\symbb{N}}}
\newcommand{\Z}{{\symbb{Z}}}
\newcommand{\Q}{{\symbb{Q}}}
\newcommand{\R}{{\symbb{R}}}
\newcommand{\C}{{\symbb{C}}}

\newcommand{\dd}{{\symrm{d}}}
\newcommand{\alg}[1]{{\langle {#1} \rangle}}
\newcommand{\gen}[1]{{\langle {#1} \rangle}}
\newcommand{\injto}{\hookrightarrow}
\newcommand{\normalin}{\trianglelefteq}
\DeclareMathOperator{\const}{const}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Tr}{Tr}
